name: Email test

on:
  workflow_dispatch:
  
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    steps:
      # using fetch-depth = 0 to make the entire history of commits available
    - uses: actions/checkout@v2
      with: 
        fetch-depth: 0

    - name: Setup Node
      uses: actions/setup-node@v1
      with: 
        node-version: '16'
    
    - name: Echo test
      run: |
        echo ${{github.actor}}
        echo ${{github.event.pusher.email}}
        echo "The email of the pusher: ${{ github.event.pusher.email }}"
        
    - name: View the github context
      run: echo "$GITHUB_CONTEXT"
      env:
         GITHUB_CONTEXT: ${{ toJson(github) }}
#     - name: Send mail
#       uses: dawidd6/action-send-mail@v3
#       with:
#           # Required mail server address:
#           server_address: smtp.gmail.com
#           # Required mail server port:
#           server_port: 465
#           # Optional (recommended): mail server username:
#           username: mehta.jay223@gmail.com
#           # Optional (recommended) mail server password:
#           password: redacted
#           # Required mail subject:
#           subject: Github Actions job result
#           # Required recipients' addresses:
#           to: jay.deepak.mehta@accenture.com
#           # Required sender full name (address can be skipped):
#           from: Luke Skywalker # <user@example.com>
#           # Optional whether this connection use TLS (default is true if server_port is 465)
#           secure: true
#           # Optional plain body:
#           body: Build job of ${{github.repository}} completed successfully!
